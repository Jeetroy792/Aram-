# ğ–´ğ—Œğ—‚ğ—‡ğ—€ ğ–¯ğ—’ğ—ğ—ğ—ˆğ—‡ ğŸ¥.ğŸ£ğŸ¢ ğ–ºğ—Œ ğ—ğ—ğ–¾ ğ–¡ğ–ºğ—Œğ–¾ ğ–¨ğ—†ğ–ºğ—€ğ–¾
FROM python:3.10-slim-buster

# ğ–²ğ–¾ğ—ğ—ğ—‚ğ—‡ğ—€ ğ–¶ğ—ˆğ—‹ğ—„ğ—‚ğ—‡ğ—€ ğ–£ğ—‚ğ—‹ğ–¾ğ–¼ğ—ğ—ˆğ—‹ğ—’
WORKDIR /app

# ğ–¨ğ—‡ğ—Œğ—ğ–ºğ—…ğ—…ğ—‚ğ—‡ğ—€ ğ–²ğ—’ğ—Œğ—ğ–¾ğ—† ğ–£ğ–¾ğ—‰ğ–¾ğ—‡ğ–½ğ–¾ğ—‡ğ–¼ğ—‚ğ–¾ğ—Œ ğ–ºğ—‡ğ–½ ğ–¥ğ–¥ğ—†ğ—‰ğ–¾ğ—€
# ğ–¾ğ—‡ğ–¼ğ—ˆğ–½ğ—‚ğ—‡ğ—€-ğ–¾ğ—‹ ğ—ƒğ—ˆğ—‡ğ—‡ğ—ˆ ğ–¿ğ–¿ğ—†ğ—‰ğ–¾ğ—€ ğ–¾ğ—„ğ—ğ–ºğ—‡ğ–¾ğ—‚ ğ—‚ğ—‡ğ—Œğ—ğ–ºğ—…ğ—… ğ—ğ—ˆğ—’ğ–¾ ğ—ƒğ–ºğ–»ğ–¾
RUN apt-get update && apt-get upgrade -y && \
    apt-get install -y ffmpeg python3-pip && \
    apt-get clean && \
    rm -rf /var/lib/apt/lists/*

# ğ–¢ğ—ˆğ—‰ğ—’ğ—‚ğ—‡ğ—€ ğ–±ğ–¾ğ—Šğ—ğ—‚ğ—‹ğ–¾ğ—†ğ–¾ğ—‡ğ—ğ—Œ ğ–ºğ—‡ğ–½ ğ–¨ğ—‡ğ—Œğ—ğ–ºğ—…ğ—…ğ—‚ğ—‡ğ—€ ğ–¯ğ—’ğ—ğ—ğ—ˆğ—‡ ğ–«ğ—‚ğ–»ğ—‹ğ–ºğ—‹ğ—‚ğ–¾ğ—Œ
COPY requirements.txt .
RUN pip3 install --no-cache-dir -U -r requirements.txt

# ğ–¢ğ—ˆğ—‰ğ—’ğ—‚ğ—‡ğ—€ ğ– ğ—…ğ—… ğ–¯ğ—‹ğ—ˆğ—ƒğ–¾ğ–¼ğ— ğ–¥ğ—‚ğ—…ğ–¾ğ—Œ
COPY . .

# ğ–¦ğ—‚ğ—ğ—‚ğ—‡ğ—€ ğ–¤ğ—‘ğ–¾ğ–¼ğ—ğ—ğ–¾ ğ–¯ğ–¾ğ—‹ğ—†ğ—‚ğ—Œğ—Œğ—‚ğ—ˆğ—‡ ğ—ğ—ˆ ğ–²ğ—ğ–ºğ—‹ğ— ğ–²ğ–¼ğ—‹ğ—‚ğ—€ğ—ğ—
RUN chmod +x start.sh

# ğ–¤ğ—‘ğ—‰ğ—ˆğ—Œğ—‚ğ—‡ğ—€ ğ–¯ğ—ˆğ—‹ğ— ğ–¿ğ—ˆğ—‹ ğ–¥ğ—…ğ–ºğ—Œğ—„ (ğ–ªğ—ˆğ—’ğ–¾ğ–» ğ–§ğ–¾ğ–ºğ—…ğ—ğ— ğ–¢ğ—ğ–¾ğ–¼ğ—„)
EXPOSE 8080

# ğ–¥ğ—‚ğ—‡ğ–ºğ—… ğ–¢ğ—ˆğ—†ğ—†ğ–ºğ—‡ğ–½ ğ—ğ—ˆ ğ–±ğ—ğ—‡ ğ—ğ—ğ–¾ ğ–¡ğ—ˆğ—
CMD ["sh", "start.sh"]

